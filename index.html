<!doctype html><html><head><meta name=generator content="Hugo 0.110.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Tachunn Publication | Home</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:image" content><link rel=alternate type=application/rss+xml href=https://tachunwu.github.io/index.xml title="Tachunn Publication"><meta property="og:title" content="Tachunn Publication"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://tachunwu.github.io/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tachunn Publication"><meta name=twitter:description content><script src=https://tachunwu.github.io/js/feather.min.js></script>
<link href=https://tachunwu.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://tachunwu.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css></head><body><div class=content><header><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><div class=main><a href=https://tachunwu.github.io/>Tachunn Publication</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a></nav></header><main class=list><div class=site-description></div><section class=list-item><h1 class=title><a href=/posts/schemaless/>&lt;Uber: Schema-less çš„ç³»çµ±èµ·æº></a></h1><time>Feb 5, 2023</time><br><div class=description>Index å‰æƒ…æè¦ æ•…äº‹èƒŒæ™¯ å…ˆç”¨è€æ‹› å°‹æ‰¾æ–°çš„ Infraï¼Œç„¶å¾Œæ”¾æ£„ æ‰‹å‹•æ‰“é€ æ–°çš„ç³»çµ± Schema-less Overview ç´°ç¯€ Consistency and Atomicity Performance æ„Ÿæƒ³ å‰æƒ…æè¦ é€™ç¯‡æ–‡ç« æœƒè¢«æˆ‘ç ”ç©¶åˆ°ä¹Ÿæ˜¯æœ‰äº›æ•…äº‹ï¼Œç”±æ–¼è »æœ‰è¶£çš„æ‰€ä»¥æˆ‘å°±æä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¤ å‹¾èµ·è®€è€…çš„èˆˆè¶£ï¼æœ‰å¤©æˆ‘åœ¨ç ”ç©¶ Uber çš„ Schemaless ç³»çµ±æ™‚ç™¼ç¾çš„ä¸€äº›è¶£äº‹ã€‚
(ä»¥ä¸‹æ˜¯ä¸‰ç¯‡æ–‡ç« çš„é—œéµå­—ï¼Œç”±æ–¼å°ç£çš„ Uber TW ç¶²ç«™æ›æ‰äº†ï¼Œæˆ‘æ•´ç†ä¸€ä¸‹é—œéµå­—ï¼Œå¤§å®¶ä¹‹å¾Œå¯ä»¥æœå°‹çœ‹çœ‹)
&lt;Designing Schemaless, Uber Engineering&rsquo;s Scalable Datastore Using MySQL> &lt;Using Triggers On Schemaless, Uber Engineering&rsquo;s Datastore Using MySQL> &lt;The Architecture of Schemaless, Uber Engineering&rsquo;s Trip Datastore Using MySQL> é€™å¹¾ç¯‡æ–‡ç« éƒ½å¾ˆæœ‰è¶£ï¼Œä½†æ˜¯æˆ‘ä»”ç´°æª¢æŸ¥ä¹‹ä¸‹ï¼Œç™¼ç¾ä»–å€‘åœ¨æ–‡ä¸­æœ‰å¼•ç”¨åˆ°åˆ¥äººçš„æƒ³æ³•ï¼Œé‚£æˆ‘ç‚ºç”šéº¼ä¸å»ç ”ç©¶åŸç‰ˆå‘¢ï¼Ÿé€™æ¨£ä¸æ˜¯æ¦‚å¿µæ›´æ¸…æ¥šå— XDï¼Ÿ
æˆ‘å°±æ‰¾åˆ°é€™ç¯‡æ–‡ç« ï¼Œä¹Ÿå°±æ˜¯ &lt;How FriendFeed uses MySQL to store schema-less data>ã€‚åœ¨æˆ‘åšäº†ä¸€äº›æœå°‹ä¹‹å¾Œï¼Œç™¼ç¾é€™ç¯‡æ–‡ç« ä¾†é ­å¯ä¸å°ï¼
é€™ç¯‡æ–‡ç« æ˜¯ç”± Bret Taylor æ‰€å¯«çš„ï¼Œä»–æ˜¯ Google Maps çš„å…±åŒå‰µä½œè€…ï¼Œä¹Ÿæ˜¯ Facebook ä¸€æ®µæ™‚é–“çš„ CTOï¼Œç›®å‰æ˜¯ Salesforce çš„ CEOã€‚è€Œ FriendFeed å…¶å¯¦å°±æ˜¯åšå’Œ facebook å·®ä¸å¤šçš„äº‹æƒ…ï¼Œæœ€å¾Œè¢« facebook æ”¶è³¼ï¼Œå¯ä»¥ç™¼ç¾ Logo å’Œ facebook æ˜¯å¦‚æ­¤ç›¸ä¼¼ï¼&mldr;</div><a class=readmore href=/posts/schemaless/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/jazz-kubernetes/>&lt;Kubernetes: ä¸€ç¨®çˆµå£«å³èˆˆæ¼”å‡ºï¼></a></h1><time>Feb 2, 2023</time><br><div class=description>Index å°è¨€ å‰è¨€ é å…ˆçŸ¥è­˜ å…¶å¯¦ä¸æ˜¯ Container Orchestrationï¼Ÿ kubernetes ç³»çµ±å’Œå…ƒä»¶è§£é‡‹ Datastore: etcd Policy Layer: API Server Business Logic: Controller Manager & Scheduler Scheduler Controller Node Agent: Kubelet Workflow çµè«– å¿ƒå¾— é™„éŒ„ï¼šchubby Families å°è¨€ é€™ç¯‡æ–‡ç« æœƒç¿»è­¯ä»‹ç´¹ &lt;Core Kubernetes: Jazz Improv over Orchestration> é€™ç¯‡æ–‡ç« ï¼Œä¸»è¦è¬›è§£ kubernetes çš„é‹ä½œåŸç† (ä¸æ˜¯æ€éº¼ä½¿ç”¨å–” XD)ã€‚æ–‡ç« ä½œè€…æ˜¯ kubernetes ä¸‰ä½å‰µå§‹äººä¹‹ä¸€çš„ Joe Bedaï¼Œä»–ç”¨å¾ˆç²¾ç°¡çš„èªè¨€å’Œä¾‹å­ç‚ºæˆ‘å€‘åˆ†æ kubernetes é€™æ¨£çš„ç³»çµ±ã€‚
å‰è¨€ é€™ç¯‡æ–‡ç« æœƒä»”ç´°è¬›è§£ kubernetes å…§éƒ¨å¦‚ä½•é‹ä½œï¼Œä½œè€…ç›´æ¥åœ¨ç¬¬äºŒå¥è©±å°±èªªï¼Œå¦‚æœä½ æ˜¯éœ€è¦çŸ¥é“å¦‚ä½• Operate kubernetes çš„äºº (æ¯”å¦‚èªªå®‰è£æˆ–æ˜¯ç”¨ kubectl)ï¼Œæ˜¯ä¸éœ€è¦æ‡‚é€™äº›çš„ XDã€‚é€™ç¯‡æ–‡ç« çš„å—çœ¾ï¼Œæ˜¯çµ¦é‚£äº›æƒ³è¦æ·±å…¥äº†è§£ kubernetes å…§éƒ¨çš„äººçš„ã€‚
é å…ˆçŸ¥è­˜ ç”±æ–¼é€™ç¯‡æ–‡ç« æœƒæ¡ç”¨å¤§é‡ç¯‡å¹…çš„ kubernetes å°ˆæœ‰åè©ï¼Œæ‰€ä»¥è‡³å°‘å¸Œæœ›ä½ çŸ¥é“ä¸€äº› kubernetes çš„åè©çš„å®šç¾©ï¼Œä¾‹å¦‚
Pod Node Kubelet â€¦etc å…¶å¯¦ä¸æ˜¯ Container Orchestrationï¼Ÿ å¾ŒçºŒçš„ç¯‡å¹…æˆ‘å€‘æœƒä»‹ç´¹ kubernetes æ˜¯å¦‚ä½•é‹ä½œçš„ï¼Œä¸éä½œè€…å»å…ˆåšäº†ä¸€é»åè©ä¸Šçš„æ¾„æ¸…ã€‚å¦‚æœä½ å» Google æŸ¥ kubernetesï¼Œå¤šåŠæœƒå‘Šè¨´ä½  kubernetes æ˜¯ä¸€ç¨® Container Orchestrationï¼ŒOrchestration é€™å€‹è©åƒæ˜¯æœ‰ä¸€å€‹äº¤éŸ¿æ¨‚åœ˜çš„ä¸­å¿ƒæŒ‡æ®å®¶ï¼ŒæŒ‡æ®è‘—æ¨‚åœ˜çš„æ¼”å¥ã€‚&mldr;</div><a class=readmore href=/posts/jazz-kubernetes/>Read more âŸ¶</a></section><section class=list-item><h1 class=title><a href=/posts/discord-fulltext/>&lt;Discord å¦‚ä½• Full-text Index æ•¸åå„„çš„è¨Šæ¯></a></h1><time>Jan 30, 2023</time><br><div class=description>Index å‰è¨€ éœ€æ±‚ è§£æ±ºæ–¹æ¡ˆ Question 1ï¼šæˆ‘è©²ç”¨å¤–éƒ¨çš„ SaaS å»è§£æ±ºé€™å€‹å•é¡Œå—ï¼Ÿ Question 2ï¼šæœ‰ Open-source çš„æ–¹æ¡ˆå¯ä»¥ç”¨å—ï¼Ÿ æˆ‘å€‘è©²â€å…¨é¢â€ç›¸ä¿¡ Elasticsearch å—ï¼Ÿ å…ƒä»¶çš„ç´°ç¯€ é«˜å±¤æ¬¡åˆ†æ Insert å…ƒä»¶ Shard Manage å…ƒä»¶ Indexing & Mapping the Data å¯¦éš›ä¸Š Coding çš„å¯¦ä½œ å¯¦éš›åœ¨ Production çš„éç¨‹ åˆå§‹åŒ–å¯¦é©— ç ”ç©¶çš„ç²¾ç¥ æ›´æ–°çš„ç…©æƒ± The Future Exampleï¼šUnhealthy Cluster (ran out of heap) Exampleï¼šHealthy Cluster çµè«– æ„Ÿæƒ³ å‰è¨€ é€™ç¯‡éƒ¨è½æ ¼æœƒç¿»è­¯å’Œåƒè€ƒ &lt;How discord indexes billions of messages> é€™ç¯‡æ–‡ç« çš„å…§å®¹åšæ•´ç†å’Œç¿»è­¯ã€‚
é€™ç¯‡ç®—æ˜¯ &lt;Discord å¦‚ä½•è™•ç†æ•¸åå„„çš„è¨Šæ¯> çš„ä¸‹é›†ï¼Œç•¶æœ‰äº†æœ€æ ¸å¿ƒçš„è¨Šæ¯è®€å¯«ç³»çµ±ã€‚ä¸‹ä¸€å€‹å¾ˆé‡è¦çš„ feature å°±æ˜¯ Full-text Searchã€‚
èˆ‰ä¾‹ä¾†èªªï¼ŒUser çªç„¶æƒ³åˆ°ä»¥å‰å’ŒåŒä¼´è¨è«–çš„æŸå€‹è­°é¡Œï¼Œä¸å¯èƒ½æ…¢æ…¢æ»‘å»æ‰¾ï¼Œè€Œæ˜¯è¦ç”¨åƒæ˜¯ Search Engine é€™æ¨£çš„åŠŸèƒ½ï¼Œé€™ç¯‡æ–‡ç« å°±æ˜¯åœ¨ä»‹ç´¹ Discord å¦‚ä½•åšåˆ°é€™ç¨®åŠŸèƒ½ã€‚&mldr;</div><a class=readmore href=/posts/discord-fulltext/>Read more âŸ¶</a></section><ul class=pagination><span class="page-item page-prev"></span><span class="page-item page-next"><a href=/page/2/ class=page-link aria-label=Next><span aria-hidden=true>Next â†’</span></a></span></ul></main><footer><div style=display:flex><a class=soc href=https://github.com/tachunwu rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a></div><div class=footer-info>2023 ğŸ’  Â© Tachunn | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><script>feather.replace()</script></div></body></html>