<!doctype html><html><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Tachunn Publication | Home</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:image" content><link rel=alternate type=application/rss+xml href=https://tachunwu.github.io/index.xml title="Tachunn Publication"><meta property="og:title" content="Tachunn Publication"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://tachunwu.github.io/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tachunn Publication"><meta name=twitter:description content><script src=https://tachunwu.github.io/js/feather.min.js></script>
<link href=https://tachunwu.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://tachunwu.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css></head><body><div class=content><header><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><div class=main><a href=https://tachunwu.github.io/>Tachunn Publication</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a></nav></header><main class=list><div class=site-description></div><section class=list-item><h1 class=title><a href=/posts/sqlc/>&lt;How We Went All In on ：sqlc/pgx for Postgres + Go></a></h1><time>Feb 19, 2023</time><br><div class=description>註記：作者本人有攝影的興趣，我拿他的一張相片當封面 XD
Index 導言 前言 Tour database/sql lib/pq pgx go-pg gorm Research Queries as strings ORMs sqlc Codegen pgx support appears Caveats and workarounds Summary and future 導言 這篇文章是專為 Go 開發者寫的，主要翻譯 &lt;How We Went All In on sqlc/pgx for Postgres + Go>，這篇文章的作者本身在 Heroku 工作過也在 stripe 工作過，同時也是提出 Idempotent Key API 的人。
現在他在 Crunchy Data 開發 platform API，對於 Postgres 和 Go 都算是非常有經驗的專家，這篇文章會分享一些他對當前生態環境 Go 如何操作 Postgres 的一些看法。
前言 幾個月的實驗和研究後，我們跑了一些 DB-dependent Go app，我們得到一個結論就是 sqlc 可以說是最好的拿來使用的 Postgres (可以能其他 databases 也是)。而且在 Go code 也很容易使用，以下就讓來介紹一下我們的研究吧！&mldr;</div><a class=readmore href=/posts/sqlc/>Read more ⟶</a></section><section class=list-item><h1 class=title><a href=/posts/notion/>&lt;Notion 的 Data Model & Sharding Postgres></a></h1><time>Feb 14, 2023</time><br><div class=description>Index 簡介 Notion 是啥？ Blocks Blocks 的 Schema Blocks 的特色： Dynamic Change Blocks 怎麼組裝和運作起來呢？ Render Tree Indentation Permissions Block 的生命週期 Creating and updating Real-time updates Reading blocks Sharding Sharding 要考慮的問題 Sharding 的解決策略 Sharding 的實際解決方案 Migrating to shards Double-writing with an audit log Backfilling old data Verifying data integrity Difficult lessons learned 早點 Shard 以 zero-downtime migration 為目標 使用 combined primary key 而不是分離的 partition key： 心得 簡介 這篇文章會統整 Notion 兩篇非常重要的工程部落格，分別是 &lt;The data model behind Notion&rsquo;s flexibility> 和 &lt;Herding elephants: Lessons learned from sharding Postgres at Notion>，其簡單扼要地講述了 Notion 背後的工程設計，我一向喜歡研究自己覺得很好用的工具怎麼設計的，就讓我們來看看吧。&mldr;</div><a class=readmore href=/posts/notion/>Read more ⟶</a></section><section class=list-item><h1 class=title><a href=/posts/enako/>&lt;えなこ寫真集『OFF COSTUME』></a></h1><time>Feb 14, 2023</time><br><div class=description>這本是我收藏一直很喜歡的 coser Enako 的寫真集，選了一點點內容，用 VSCO 調色一下來分享一下我的感動 >///&lt;
封面是泡澡的可愛俏皮模樣 如果把書皮拿開原生封面是夕陽下的 Enako，好清澈的眼神 貼近自然的草皮色調，讓畫面視覺很親近人的感覺 像是一起起床互看的第一眼，有點放空慵懶的幸福 喝水的樣子和肌膚的透明感，真的是很美的畫面 有點成人的視角，不過只是前菜 完美的曲線，美的讓人止息 連張的部分開始有點挑逗的意味 出遊青春的的樣子，像是夢幻的時光 復古的底片相機和她的瞳孔呈現回憶的重要 調皮的戲水瞬間，彷彿幸福永恆停留在那剎那 有點小色欲，但是又是如此的日常 鏡面的構圖，呈現精緻的五官 微濕半露的視角，像是藝術品一樣的存在 &mldr;</div><a class=readmore href=/posts/enako/>Read more ⟶</a></section><ul class=pagination><span class="page-item page-prev"><a href=/ class=page-link aria-label=Previous><span aria-hidden=true>← Prev</span></a></span>
<span class="page-item page-next"><a href=/page/3/ class=page-link aria-label=Next><span aria-hidden=true>Next →</span></a></span></ul></main><footer><div style=display:flex><a class=soc href=https://github.com/tachunwu rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a></div><div class=footer-info>2023 💠 © Tachunn | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><script>feather.replace()</script></div></body></html>