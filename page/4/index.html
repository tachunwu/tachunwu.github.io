<!doctype html><html><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Tachunn Publication | Home</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:image" content><link rel=alternate type=application/rss+xml href=https://tachunwu.github.io/index.xml title="Tachunn Publication"><meta property="og:title" content="Tachunn Publication"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://tachunwu.github.io/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tachunn Publication"><meta name=twitter:description content><script src=https://tachunwu.github.io/js/feather.min.js></script>
<link href=https://tachunwu.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://tachunwu.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css></head><body><div class=content><header><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><div class=main><a href=https://tachunwu.github.io/>Tachunn Publication</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a></nav></header><main class=list><div class=site-description></div><section class=list-item><h1 class=title><a href=/posts/discord-fulltext/>&lt;Discord 如何 Full-text Index 數十億的訊息></a></h1><time>Jan 30, 2023</time><br><div class=description>Index 前言 需求 解決方案 Question 1：我該用外部的 SaaS 去解決這個問題嗎？ Question 2：有 Open-source 的方案可以用嗎？ 我們該”全面”相信 Elasticsearch 嗎？ 元件的細節 高層次分析 Insert 元件 Shard Manage 元件 Indexing & Mapping the Data 實際上 Coding 的實作 實際在 Production 的過程 初始化實驗 研究的精神 更新的煩惱 The Future Example：Unhealthy Cluster (ran out of heap) Example：Healthy Cluster 結論 感想 前言 這篇部落格會翻譯和參考 &lt;How discord indexes billions of messages> 這篇文章的內容做整理和翻譯。
這篇算是 &lt;Discord 如何處理數十億的訊息> 的下集，當有了最核心的訊息讀寫系統。下一個很重要的 feature 就是 Full-text Search。
舉例來說，User 突然想到以前和同伴討論的某個議題，不可能慢慢滑去找，而是要用像是 Search Engine 這樣的功能，這篇文章就是在介紹 Discord 如何做到這種功能。&mldr;</div><a class=readmore href=/posts/discord-fulltext/>Read more ⟶</a></section><section class=list-item><h1 class=title><a href=/posts/cassandra/>&lt;Cassandra-based 的設計模型：Chebotko Diagrams></a></h1><time>Jan 27, 2023</time><br><div class=description>Index 前言 先備知識 目標 Cassandra’s Data Model Keyspace Table Table Example：single-row partitions Table Example：multi-row partitions Query Model Conceptual Data & Application Workflow Modeling 實際案例 Logical Data Modeling Data Modeling Principles Mapping Rules Chebotko Diagrams Notation Logical Chebotko Diagram Physical Chebotko Diagram 注意事項 結論 前言 這篇文章會翻譯和整理一篇論文 &lt;A Big Data Modeling Methodology for Apache Cassandra>，這篇論文是由維護 Apache Cassandra 商用版 DataStax 的工程師所寫的論文 (發表在 2015 IEEE BigDataCongress 上)。
我個人認為非常適合做為學習 Cassandra 這種系統的基石 (如果有經驗一點的讀者會發現 Google BigTable 和 AWS 的 DynamoDB 都可以適用本論文的概念)。&mldr;</div><a class=readmore href=/posts/cassandra/>Read more ⟶</a></section><section class=list-item><h1 class=title><a href=/posts/discord-cassandra/>&lt;Discord 如何處理一天數億的訊息></a></h1><time>Jan 21, 2023</time><br><div class=description>Index 前言 目標 故事開始 遇到瓶頸 選新的候選人 問題 需求 Data Modeling Bucket Dark Launch Trade-off Performance 出大事拉 The Future Near Term Long Term 結語 心得 前言 這篇部落格會翻譯和參考 &lt;How Discord Stores Billions of Messages> 這篇部落格的內容做整理和翻譯。
我個人一向喜歡研究自己喜歡用的軟體，身為每天都會上 DC 和朋友社交的我來說，研究一下這麼厲害的服務，也是我的興趣之所在。
目標 這篇文章的目標也很明確，Discord 每天會需要處理一億的訊息 (100 million/day)，這篇文章會解釋他們怎麼做到的。
故事開始 羅馬不是一天造成的，Discord 在 2015 年只花了兩個月就建立好了第一版。當時他們只用了一台 MongoDB 當作主要 Database，作者 (Discord CTO) 也直接講明了，當時選用 MongoDB 純粹只是為了快速疊代產品，以最快的速度去打造市場想要的東西。從一開始就不打算用 Sharding 的 MongoDB，不僅複雜難用而且還不穩定。所以一開始使設計上就給出很大的移植特性。(MongoDB QQ)
在此之上，作者提出 Discord 的核心文化…
Build quickly to prove out a product feature, but always with a path to a more robust solution&mldr;</div><a class=readmore href=/posts/discord-cassandra/>Read more ⟶</a></section><ul class=pagination><span class="page-item page-prev"><a href=/page/3/ class=page-link aria-label=Previous><span aria-hidden=true>← Prev</span></a></span>
<span class="page-item page-next"><a href=/page/5/ class=page-link aria-label=Next><span aria-hidden=true>Next →</span></a></span></ul></main><footer><div style=display:flex><a class=soc href=https://github.com/tachunwu rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a></div><div class=footer-info>2023 💠 © Tachunn | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><script>feather.replace()</script></div></body></html>