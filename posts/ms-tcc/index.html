<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>&lt;Life beyond Distributed Transactions: an Apostateâ€™s Opinion> ç¢©è«–ç­†è¨˜ - Tachunn Publication</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Index Abstract å‡è¨­ Layers of the Appilication & Scale-aware Transactional Scopes ç”¨è©å®šç¾© Entities Atmoic Transactions Messages Activities Distributed Transaction Remembering Messages as State Tentative/Cancel/Confirm å€‹äººæ€è€ƒ Abstract æ¢è¨ Scale Appilication çš„èªè¨€å­¸
å‡è¨­ Layers of the Appilication & Scale-aware ä¸Šå±¤ä¸ç”¨è€ƒæ…® Scale ä¸‹å±¤éœ€è¦å¯¦ä½œ Scale-aware Transactional Scopes æœ¬æ–‡èšç„¦åœ¨è¨è«– Transaction åœ¨ç‰¹å®šé›†åˆå…§çš„ Serializabilityï¼Œæˆ‘å€‘åªè¦æ±‚åœ¨ç‰¹å®šçš„æ©Ÿå™¨å…§éƒ¨ç¶­æŒéš”é›¢æ€§ï¼Œè€Œä¸æ˜¯æ•´å€‹ Data Center å¼·åˆ¶ç¶­æŒä¸€è‡´ã€‚
ç”¨è©å®šç¾© Entities æœ¬æ–‡å®šç¾© Entity å¿…é ˆæ“æœ‰ä¸€å€‹ ID æˆ–æ˜¯ Keyï¼Œè€Œä¸”åœ¨ Entity ä¹‹å…§å¿…é ˆæ“æœ‰å”¯ä¸€çš„ Serializabilityã€‚
Atmoic Transactions Atmoic Transaction ä¸å¯ä»¥æ¶µè“‹å¤šæ•¸çš„ Entityã€‚(é€™é‚Šå’Œ Database çš„å®šç¾©å°±ä¸å¤ªä¸€æ¨£äº†ï¼Œé€™è£¡æ›´åƒæ˜¯æ‡‰ç”¨ç¨‹å¼çš„è§’åº¦)"><meta property="og:image" content><meta property="og:title" content="<Life beyond Distributed Transactions: an Apostateâ€™s Opinion> ç¢©è«–ç­†è¨˜"><meta property="og:description" content="Index Abstract å‡è¨­ Layers of the Appilication & Scale-aware Transactional Scopes ç”¨è©å®šç¾© Entities Atmoic Transactions Messages Activities Distributed Transaction Remembering Messages as State Tentative/Cancel/Confirm å€‹äººæ€è€ƒ Abstract æ¢è¨ Scale Appilication çš„èªè¨€å­¸
å‡è¨­ Layers of the Appilication & Scale-aware ä¸Šå±¤ä¸ç”¨è€ƒæ…® Scale ä¸‹å±¤éœ€è¦å¯¦ä½œ Scale-aware Transactional Scopes æœ¬æ–‡èšç„¦åœ¨è¨è«– Transaction åœ¨ç‰¹å®šé›†åˆå…§çš„ Serializabilityï¼Œæˆ‘å€‘åªè¦æ±‚åœ¨ç‰¹å®šçš„æ©Ÿå™¨å…§éƒ¨ç¶­æŒéš”é›¢æ€§ï¼Œè€Œä¸æ˜¯æ•´å€‹ Data Center å¼·åˆ¶ç¶­æŒä¸€è‡´ã€‚
ç”¨è©å®šç¾© Entities æœ¬æ–‡å®šç¾© Entity å¿…é ˆæ“æœ‰ä¸€å€‹ ID æˆ–æ˜¯ Keyï¼Œè€Œä¸”åœ¨ Entity ä¹‹å…§å¿…é ˆæ“æœ‰å”¯ä¸€çš„ Serializabilityã€‚
Atmoic Transactions Atmoic Transaction ä¸å¯ä»¥æ¶µè“‹å¤šæ•¸çš„ Entityã€‚(é€™é‚Šå’Œ Database çš„å®šç¾©å°±ä¸å¤ªä¸€æ¨£äº†ï¼Œé€™è£¡æ›´åƒæ˜¯æ‡‰ç”¨ç¨‹å¼çš„è§’åº¦)"><meta property="og:type" content="article"><meta property="og:url" content="https://tachunwu.github.io/posts/ms-tcc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-28T19:12:03+08:00"><meta property="article:modified_time" content="2022-12-28T19:12:03+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="<Life beyond Distributed Transactions: an Apostateâ€™s Opinion> ç¢©è«–ç­†è¨˜"><meta name=twitter:description content="Index Abstract å‡è¨­ Layers of the Appilication & Scale-aware Transactional Scopes ç”¨è©å®šç¾© Entities Atmoic Transactions Messages Activities Distributed Transaction Remembering Messages as State Tentative/Cancel/Confirm å€‹äººæ€è€ƒ Abstract æ¢è¨ Scale Appilication çš„èªè¨€å­¸
å‡è¨­ Layers of the Appilication & Scale-aware ä¸Šå±¤ä¸ç”¨è€ƒæ…® Scale ä¸‹å±¤éœ€è¦å¯¦ä½œ Scale-aware Transactional Scopes æœ¬æ–‡èšç„¦åœ¨è¨è«– Transaction åœ¨ç‰¹å®šé›†åˆå…§çš„ Serializabilityï¼Œæˆ‘å€‘åªè¦æ±‚åœ¨ç‰¹å®šçš„æ©Ÿå™¨å…§éƒ¨ç¶­æŒéš”é›¢æ€§ï¼Œè€Œä¸æ˜¯æ•´å€‹ Data Center å¼·åˆ¶ç¶­æŒä¸€è‡´ã€‚
ç”¨è©å®šç¾© Entities æœ¬æ–‡å®šç¾© Entity å¿…é ˆæ“æœ‰ä¸€å€‹ ID æˆ–æ˜¯ Keyï¼Œè€Œä¸”åœ¨ Entity ä¹‹å…§å¿…é ˆæ“æœ‰å”¯ä¸€çš„ Serializabilityã€‚
Atmoic Transactions Atmoic Transaction ä¸å¯ä»¥æ¶µè“‹å¤šæ•¸çš„ Entityã€‚(é€™é‚Šå’Œ Database çš„å®šç¾©å°±ä¸å¤ªä¸€æ¨£äº†ï¼Œé€™è£¡æ›´åƒæ˜¯æ‡‰ç”¨ç¨‹å¼çš„è§’åº¦)"><script src=https://tachunwu.github.io/js/feather.min.js></script>
<link href=https://tachunwu.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://tachunwu.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css></head><body><div class=content><header><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><div class=main><a href=https://tachunwu.github.io/>Tachunn Publication</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/about>About</a>
<a href=/tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>&lt;Life beyond Distributed Transactions: an Apostateâ€™s Opinion> ç¢©è«–ç­†è¨˜</h1><div class=meta>Posted on Dec 28, 2022</div></div><section class=body><div><h2>Index</h2><nav id=TableOfContents><ol><li><a href=#abstract>Abstract</a></li><li><a href=#å‡è¨­>å‡è¨­</a><ol><li><a href=#layers-of-the-appilication--scale-aware>Layers of the Appilication & Scale-aware</a></li><li><a href=#transactional-scopes>Transactional Scopes</a></li></ol></li><li><a href=#ç”¨è©å®šç¾©>ç”¨è©å®šç¾©</a><ol><li><a href=#entities>Entities</a></li><li><a href=#atmoic-transactions>Atmoic Transactions</a></li><li><a href=#messages>Messages</a></li><li><a href=#activities>Activities</a></li></ol></li><li><a href=#distributed-transaction>Distributed Transaction</a></li><li><a href=#remembering-messages-as-state>Remembering Messages as State</a></li><li><a href=#tentativecancelconfirm>Tentative/Cancel/Confirm</a></li><li><a href=#å€‹äººæ€è€ƒ>å€‹äººæ€è€ƒ</a></li></ol></nav></div><h1 id=abstract>Abstract</h1><p>æ¢è¨ Scale Appilication çš„èªè¨€å­¸</p><h1 id=å‡è¨­>å‡è¨­</h1><h2 id=layers-of-the-appilication--scale-aware>Layers of the Appilication & Scale-aware</h2><ul><li>ä¸Šå±¤ä¸ç”¨è€ƒæ…® Scale</li><li>ä¸‹å±¤éœ€è¦å¯¦ä½œ Scale-aware</li></ul><h2 id=transactional-scopes>Transactional Scopes</h2><p>æœ¬æ–‡èšç„¦åœ¨è¨è«– Transaction åœ¨ç‰¹å®šé›†åˆå…§çš„ Serializabilityï¼Œæˆ‘å€‘åªè¦æ±‚åœ¨ç‰¹å®šçš„æ©Ÿå™¨å…§éƒ¨ç¶­æŒéš”é›¢æ€§ï¼Œè€Œä¸æ˜¯æ•´å€‹ Data Center å¼·åˆ¶ç¶­æŒä¸€è‡´ã€‚</p><h1 id=ç”¨è©å®šç¾©>ç”¨è©å®šç¾©</h1><h2 id=entities>Entities</h2><p>æœ¬æ–‡å®šç¾© Entity å¿…é ˆæ“æœ‰ä¸€å€‹ ID æˆ–æ˜¯ Keyï¼Œè€Œä¸”åœ¨ Entity ä¹‹å…§å¿…é ˆæ“æœ‰å”¯ä¸€çš„ Serializabilityã€‚</p><h2 id=atmoic-transactions>Atmoic Transactions</h2><p>Atmoic Transaction ä¸å¯ä»¥æ¶µè“‹å¤šæ•¸çš„ Entityã€‚(é€™é‚Šå’Œ Database çš„å®šç¾©å°±ä¸å¤ªä¸€æ¨£äº†ï¼Œé€™è£¡æ›´åƒæ˜¯æ‡‰ç”¨ç¨‹å¼çš„è§’åº¦)</p><h2 id=messages>Messages</h2><p>Messages å¿…é ˆç¶å®š Entity IDï¼Œä¹Ÿå°±æ˜¯èªªä¸Šå±¤å‘¼å«ä¸‹å±¤çš„æ™‚å€™æ˜¯ç¶“ç”± Entity ID ä½œç‚ºç›®æ¨™ã€‚</p><h2 id=activities>Activities</h2><p>Entity é™¤äº†æ¥æ”¶è¨Šæ¯æœ¬èº«é‚„ç®¡ç† Stateï¼Œå°æ–¼ä»–å€‘ä¾†èªªï¼ŒMessages åˆ†ç‚ºå…©ç¨®ã€‚</p><ul><li>æœƒæ›´æ”¹ Entity State</li><li>ä¸æœƒæ›´æ”¹ Entity State (Idempotence)</li></ul><p>Activities è¡¨ç¤º Entity æ”¶åˆ°è¨Šæ¯ä¹‹å¾Œå…§éƒ¨çš„è®ŠåŒ–ã€‚</p><h1 id=distributed-transaction>Distributed Transaction</h1><p>ç”±æ–¼æˆ‘å€‘ä¸Šé¢å®šç¾©çš„ Transaction åªèƒ½åœ¨å–®ä¸€å€‹ Entity å…§ç™¼ç”Ÿï¼Œç•¶æ©«è·¨å¤šå€‹ Entity æ™‚ï¼Œæˆ‘å€‘å°±éœ€è¦ä½¿ç”¨ Async Messages å»æ‹¼æ¹Šå‡ºæ•´å€‹ Distributed Transactionã€‚</p><h1 id=remembering-messages-as-state>Remembering Messages as State</h1><p>é€™è£¡çµ¦å‡ºå¾ˆç²¾ç¢ºçš„ Activity çš„å®šç¾©ï¼Œç•¶æˆ‘å€‘éœ€è¦ä¸€å€‹ Entity è¨˜å¾—å…¶ä»–ä¸€èµ·åˆä½œçš„ Entity åšäº†ä»€éº¼ã€‚</p><h1 id=tentativecancelconfirm>Tentative/Cancel/Confirm</h1><p>ä½œè€…ç‰ˆæœ¬çš„ 2PCï¼Œä¸éæ¦‚å¿µä¸Šåå‘é¬†è€¦åˆã€‚</p><h1 id=å€‹äººæ€è€ƒ>å€‹äººæ€è€ƒ</h1><p>ä¸Šå±¤çš„å•†æ¥­é‚è¼¯è—‰ç”± Messaging/Stream ç­‰åŸºç¤è¨­æ–½å°ä¸‹å±¤é€²è¡Œå‘¼å«ï¼Œæºé€šçš„æ–¹å¼å°±æ˜¯è—‰ç”± Subjectã€‚</p><ul><li>Entity çš„ CRUDL æ“ä½œ</li><li>å°å¤–éƒ¨ç³»çµ±çš„æ··åˆæ“ä½œ</li><li>Entity Subject: {Entity}.{PK}<ul><li>Read è¦æ€éº¼å‘¼å«ï¼Ÿ</li><li>Write è¦æ€éº¼å‘¼å«ï¼Ÿ</li></ul></li><li>Transaction Subject: Transaction.{ID}</li><li>Distributed Cache Subject: Cache.{PK}</li><li>Object Subject: Object.{PK}</li><li>ç•¶ä»Šå¤©è¨­è¨ˆä¸€å€‹åˆ†é›¢çš„ Full-Text Index Serviceï¼Œæœƒå¸Œæœ› API å½¢å¼æ˜¯å¦‚ä½•ï¼Ÿ</li></ul></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/cs-master>CS master</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/tachunwu rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a></div><div class=footer-info>2022 ğŸ’  Â© Tachunn | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-2LYZQ778V0"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2LYZQ778V0")</script><script>feather.replace()</script></div></body></html>