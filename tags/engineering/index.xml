<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Engineering on Tachunn Publication</title><link>https://tachunwu.github.io/tags/engineering/</link><description>Recent content in Engineering on Tachunn Publication</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>ğŸ’  Â© Tachunn</copyright><lastBuildDate>Thu, 23 Feb 2023 16:47:26 +0800</lastBuildDate><atom:link href="https://tachunwu.github.io/tags/engineering/index.xml" rel="self" type="application/rss+xml"/><item><title>&lt;Netflix çš„è»Ÿé«”è¨­è¨ˆå“²å­¸ï¼šHexagonal Archtecture></title><link>https://tachunwu.github.io/posts/hexagonal/</link><pubDate>Thu, 23 Feb 2023 16:47:26 +0800</pubDate><guid>https://tachunwu.github.io/posts/hexagonal/</guid><description>Index å°è¨€ å‰è¨€ Chapter 1ï¼šé«˜åº¦çš„æ•´åˆ Chapter 2ï¼šMonolith to Microservices Chapter 3ï¼šHexagonal Architecture Core concepts Data Sources Transport Layer The dependency graph Chapter 4ï¼šSwapping data sourcesï¼ Production å¯¦éš›æƒ…æ³ éš±è— data source çš„ç´°ç¯€ Chapter 5ï¼šTesting strategy Interactors test Data sources test E2E test å¿ƒå¾—èˆ‡ç¸½çµ å°è¨€ é€™ç¯‡æ˜¯æ•´ç†ç¿»è­¯ &amp;lt;Ready for changes with Hexagonal Architecture&amp;gt;ï¼Œå…¶ä¸­ Netflix å·¥ç¨‹å¸«æŠŠå®ƒå€‘å¾ Monolith è½‰æ›åˆ° Microservices ç„¶å¾Œä»‹ç´¹ Hexagonal Architecture ç¨®ç¨®ç´°ç¯€ã€‚
å»ºè­°å„ä½è®€è€…æŠŠé€™ç¯‡ç•¶æˆæ•…äº‹ï¼Œæ›´èƒ½äº†è§£ Microservices å’Œ Hexagonal Architecture èª•ç”Ÿçš„å› æœã€‚
å‰è¨€ éš¨è‘—æ¯å¹´çš„ Netflix æˆé•·ï¼Œæˆ‘å€‘å¯¦ä½œ Application çš„æ™‚å€™å¿…é ˆç¶­æŒå¾ˆé«˜çš„æ•ˆç‡ã€‚æˆ‘å€‘çš„ Engineering çµ„ç¹”å¾ç·¨åŠ‡ã€æ’­æ”¾ã€æ’ç¨‹ã€ä¾›æ‡‰å•†ç®¡ç†ã€ç²å–åŠ‡æœ¬å…§å®¹&amp;hellip;etcï¼Œç®¡ç†è¶…å¤šçš„ Applications ã€‚</description></item><item><title>&lt;How We Went All In on ï¼šsqlc/pgx for Postgres + Go></title><link>https://tachunwu.github.io/posts/sqlc/</link><pubDate>Sun, 19 Feb 2023 16:58:55 +0800</pubDate><guid>https://tachunwu.github.io/posts/sqlc/</guid><description>è¨»è¨˜ï¼šä½œè€…æœ¬äººæœ‰æ”å½±çš„èˆˆè¶£ï¼Œæˆ‘æ‹¿ä»–çš„ä¸€å¼µç›¸ç‰‡ç•¶å°é¢ XD
Index å°è¨€ å‰è¨€ Tour database/sql lib/pq pgx go-pg gorm Research Queries as strings ORMs sqlc Codegen pgx support appears Caveats and workarounds Summary and future å°è¨€ é€™ç¯‡æ–‡ç« æ˜¯å°ˆç‚º Go é–‹ç™¼è€…å¯«çš„ï¼Œä¸»è¦ç¿»è­¯ &amp;lt;How We Went All In on sqlc/pgx for Postgres + Go&amp;gt;ï¼Œé€™ç¯‡æ–‡ç« çš„ä½œè€…æœ¬èº«åœ¨ Heroku å·¥ä½œéä¹Ÿåœ¨ stripe å·¥ä½œéï¼ŒåŒæ™‚ä¹Ÿæ˜¯æå‡º Idempotent Key API çš„äººã€‚
ç¾åœ¨ä»–åœ¨ Crunchy Data é–‹ç™¼ platform APIï¼Œå°æ–¼ Postgres å’Œ Go éƒ½ç®—æ˜¯éå¸¸æœ‰ç¶“é©—çš„å°ˆå®¶ï¼Œé€™ç¯‡æ–‡ç« æœƒåˆ†äº«ä¸€äº›ä»–å°ç•¶å‰ç”Ÿæ…‹ç’°å¢ƒ Go å¦‚ä½•æ“ä½œ Postgres çš„ä¸€äº›çœ‹æ³•ã€‚
å‰è¨€ å¹¾å€‹æœˆçš„å¯¦é©—å’Œç ”ç©¶å¾Œï¼Œæˆ‘å€‘è·‘äº†ä¸€äº› DB-dependent Go appï¼Œæˆ‘å€‘å¾—åˆ°ä¸€å€‹çµè«–å°±æ˜¯ sqlc å¯ä»¥èªªæ˜¯æœ€å¥½çš„æ‹¿ä¾†ä½¿ç”¨çš„ Postgres (å¯ä»¥èƒ½å…¶ä»– databases ä¹Ÿæ˜¯)ã€‚è€Œä¸”åœ¨ Go code ä¹Ÿå¾ˆå®¹æ˜“ä½¿ç”¨ï¼Œä»¥ä¸‹å°±è®“ä¾†ä»‹ç´¹ä¸€ä¸‹æˆ‘å€‘çš„ç ”ç©¶å§ï¼</description></item><item><title>&lt;Notion çš„ Data Model &amp; Sharding Postgres></title><link>https://tachunwu.github.io/posts/notion/</link><pubDate>Tue, 14 Feb 2023 14:05:32 +0800</pubDate><guid>https://tachunwu.github.io/posts/notion/</guid><description>Index ç°¡ä»‹ Notion æ˜¯å•¥ï¼Ÿ Blocks Blocks çš„ Schema Blocks çš„ç‰¹è‰²ï¼š Dynamic Change Blocks æ€éº¼çµ„è£å’Œé‹ä½œèµ·ä¾†å‘¢ï¼Ÿ Render Tree Indentation Permissions Block çš„ç”Ÿå‘½é€±æœŸ Creating and updating Real-time updates Reading blocks Sharding Sharding è¦è€ƒæ…®çš„å•é¡Œ Sharding çš„è§£æ±ºç­–ç•¥ Sharding çš„å¯¦éš›è§£æ±ºæ–¹æ¡ˆ Migrating to shards Double-writing with an audit log Backfilling old data Verifying data integrity Difficult lessons learned æ—©é» Shard ä»¥ zero-downtime migration ç‚ºç›®æ¨™ ä½¿ç”¨ combined primary key è€Œä¸æ˜¯åˆ†é›¢çš„ partition keyï¼š å¿ƒå¾— ç°¡ä»‹ é€™ç¯‡æ–‡ç« æœƒçµ±æ•´ Notion å…©ç¯‡éå¸¸é‡è¦çš„å·¥ç¨‹éƒ¨è½æ ¼ï¼Œåˆ†åˆ¥æ˜¯ &amp;lt;The data model behind Notion&amp;rsquo;s flexibility&amp;gt; å’Œ &amp;lt;Herding elephants: Lessons learned from sharding Postgres at Notion&amp;gt;ï¼Œå…¶ç°¡å–®æ‰¼è¦åœ°è¬›è¿°äº† Notion èƒŒå¾Œçš„å·¥ç¨‹è¨­è¨ˆï¼Œæˆ‘ä¸€å‘å–œæ­¡ç ”ç©¶è‡ªå·±è¦ºå¾—å¾ˆå¥½ç”¨çš„å·¥å…·æ€éº¼è¨­è¨ˆçš„ï¼Œå°±è®“æˆ‘å€‘ä¾†çœ‹çœ‹å§ã€‚</description></item><item><title>&lt;OLEPï¼šOnline Event Processing ç³»çµ±è¨­è¨ˆ></title><link>https://tachunwu.github.io/posts/olep/</link><pubDate>Fri, 10 Feb 2023 18:26:57 +0800</pubDate><guid>https://tachunwu.github.io/posts/olep/</guid><description>Index å°è¨€ å‰è¨€ Applcation Architecture Todayï¼šå¤šç•°è³ªæ€§å„²å­˜ Full-text search Data warehousing Stream processing Application-level caching Example: Heterogeneous storage Distributed Transactions Homogeneous distributed transactions Heterogeneous distributed transactions Event Logs Log çš„ç‰¹æ€§ Subscribers ä½¿ç”¨ Log æ™‚çš„é‡é» Exampleï¼šFinancial Payments System Stage-1. è½‰å¸³è«‹æ±‚ Stage-2. Single-threaded è™•ç† Stage-3. æ±ºç­– &amp;amp; è™•ç† Stage-4. ç³»çµ±å›é¥‹ Stage-5. æ¥å—ç«¯ Stage-6. å›å ±çµæœ Some notes: Scale OLEP çš„å„ªé» Log ç¨ç«‹æ€§å’Œæ“´å……æ€§ å¯å†ç¶­è­·æ€§ &amp;amp; Debug Data Modeling Data Analysis Distributed Transaction OLEP çš„ç¼ºé» Latency ä¸€è‡´æ€§å•é¡Œ å¿ƒå¾— å°è¨€ ä»Šå¤©åˆ†äº«çš„é€™ç¯‡è«–æ–‡ &amp;lt;Online Event Processing: Achieving consistency where distributed transactions have failed&amp;gt; æ˜¯ç”±é¼é¼å¤§åçš„ Martin Kleppmann æ‰€æ’°å¯«ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶ç†ŸçŸ¥ DDIA çš„ä½œè€… (ä¸‹åœ–)ï¼Œæ­¤æ›¸è¢«è­½ç‚ºåŒ—ç¾è»Ÿé«”å·¥ç¨‹å¸«å¿…çœ‹çš„ä¸€æœ¬æ›¸ã€‚</description></item><item><title>&lt;Database ä¸€ä»£ä»£çš„æ¼”åŒ–å’Œå‚³æ‰¿></title><link>https://tachunwu.github.io/posts/db-history/</link><pubDate>Wed, 08 Feb 2023 14:51:07 +0800</pubDate><guid>https://tachunwu.github.io/posts/db-history/</guid><description>Index å‰è¨€ è²æ˜å’Œå°è¨€ 1970sï¼šBegin 1980sï¼šRelational &amp;amp; Object-Oriented Databases 1990sï¼šç„¡èŠçš„å¹´ä»£ 2000sï¼šInternet Boomï¼ æ—©æœŸï¼šè€ç³»çµ±é‚„æ’è‘— ä¸­æœŸï¼šMiddle-ware æ™šæœŸï¼šNoSQL Data Warehouse 2010sï¼šCloud Systems 2010sï¼šGraph Database 2010sï¼šTime-Series Database 2010sï¼šNewSQL Google Spanner NewSQL é»ƒé‡‘å¹´ä»£ å“ªè£¡å‡ºå•é¡Œäº†? Andy Pavlo çš„ç¸½çµ Nowï¼šDistributed SQL å¤§é¢¨å¤§æµªå¾Œçš„ç”Ÿé‚„è€… çµèª å‰è¨€ é€™ç¯‡æ–‡ç« æœƒä»‹ç´¹ä¸€äº› Database çš„ç¨®é¡å’Œæ­·å²ï¼Œä¸»è¦åƒè€ƒ CMU Database æ•™æˆ Andy Pavlo çš„ä¸€äº›æ¼”è¬›å’Œæˆèª²ï¼Œä¾‹å¦‚ï¼š
&amp;lt;Andy Pavlo â€” The official ten-year retrospective of NewSQL databases&amp;gt; &amp;lt;History of Databases (CMU Advanced Databases / Spring 2023)&amp;gt; è²æ˜å’Œå°è¨€ é€™äº›æ¼”è¬›å«é‡‘é‡éƒ½å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘æœƒé¸ä¸€äº›å…§å®¹ä¾†èªªï¼Œæ¯”å¦‚èªª Andy åœ¨ History of Databases é€™é–€èª²å¾ 1960s é–‹å§‹è¬› (æˆ‘éƒ½é‚„æ²’å‡ºç”Ÿã„Ÿ XD)ï¼Œæ‰€ä»¥é€™äº›å…§å®¹æˆ‘æœƒçœç•¥ã€‚é‚„æœ‰å¯èƒ½æ˜¯æ›‡èŠ±ä¸€ç¾æˆ–æ˜¯æˆ‘è¦ºå¾—æ²’æœ‰å¯«çš„åƒ¹å€¼çš„å…§å®¹ (ä¸æœ‰è¶£ä¹Ÿæ²’æœ‰æˆåŠŸçš„ä¾‹å­)ï¼Œå¦‚æœçœŸçš„æœ‰èˆˆè¶£å¯ä»¥è‡ªå·±å»çœ‹å½±ç‰‡ã€‚</description></item><item><title>&lt;Kubernetes: ä¸€ç¨®çˆµå£«å³èˆˆæ¼”å‡ºï¼></title><link>https://tachunwu.github.io/posts/jazz-kubernetes/</link><pubDate>Thu, 02 Feb 2023 23:27:11 +0800</pubDate><guid>https://tachunwu.github.io/posts/jazz-kubernetes/</guid><description>Index å°è¨€ å‰è¨€ é å…ˆçŸ¥è­˜ å…¶å¯¦ä¸æ˜¯ Container Orchestrationï¼Ÿ kubernetes ç³»çµ±å’Œå…ƒä»¶è§£é‡‹ Datastore: etcd Policy Layer: API Server Business Logic: Controller Manager &amp;amp; Scheduler Scheduler Controller Node Agent: Kubelet Workflow çµè«– å¿ƒå¾— é™„éŒ„ï¼šchubby Families å°è¨€ é€™ç¯‡æ–‡ç« æœƒç¿»è­¯ä»‹ç´¹ &amp;lt;Core Kubernetes: Jazz Improv over Orchestration&amp;gt; é€™ç¯‡æ–‡ç« ï¼Œä¸»è¦è¬›è§£ kubernetes çš„é‹ä½œåŸç† (ä¸æ˜¯æ€éº¼ä½¿ç”¨å–” XD)ã€‚æ–‡ç« ä½œè€…æ˜¯ kubernetes ä¸‰ä½å‰µå§‹äººä¹‹ä¸€çš„ Joe Bedaï¼Œä»–ç”¨å¾ˆç²¾ç°¡çš„èªè¨€å’Œä¾‹å­ç‚ºæˆ‘å€‘åˆ†æ kubernetes é€™æ¨£çš„ç³»çµ±ã€‚
å‰è¨€ é€™ç¯‡æ–‡ç« æœƒä»”ç´°è¬›è§£ kubernetes å…§éƒ¨å¦‚ä½•é‹ä½œï¼Œä½œè€…ç›´æ¥åœ¨ç¬¬äºŒå¥è©±å°±èªªï¼Œå¦‚æœä½ æ˜¯éœ€è¦çŸ¥é“å¦‚ä½• Operate kubernetes çš„äºº (æ¯”å¦‚èªªå®‰è£æˆ–æ˜¯ç”¨ kubectl)ï¼Œæ˜¯ä¸éœ€è¦æ‡‚é€™äº›çš„ XDã€‚é€™ç¯‡æ–‡ç« çš„å—çœ¾ï¼Œæ˜¯çµ¦é‚£äº›æƒ³è¦æ·±å…¥äº†è§£ kubernetes å…§éƒ¨çš„äººçš„ã€‚
é å…ˆçŸ¥è­˜ ç”±æ–¼é€™ç¯‡æ–‡ç« æœƒæ¡ç”¨å¤§é‡ç¯‡å¹…çš„ kubernetes å°ˆæœ‰åè©ï¼Œæ‰€ä»¥è‡³å°‘å¸Œæœ›ä½ çŸ¥é“ä¸€äº› kubernetes çš„åè©çš„å®šç¾©ï¼Œä¾‹å¦‚
Pod Node Kubelet â€¦etc å…¶å¯¦ä¸æ˜¯ Container Orchestrationï¼Ÿ å¾ŒçºŒçš„ç¯‡å¹…æˆ‘å€‘æœƒä»‹ç´¹ kubernetes æ˜¯å¦‚ä½•é‹ä½œçš„ï¼Œä¸éä½œè€…å»å…ˆåšäº†ä¸€é»åè©ä¸Šçš„æ¾„æ¸…ã€‚å¦‚æœä½ å» Google æŸ¥ kubernetesï¼Œå¤šåŠæœƒå‘Šè¨´ä½  kubernetes æ˜¯ä¸€ç¨® Container Orchestrationï¼ŒOrchestration é€™å€‹è©åƒæ˜¯æœ‰ä¸€å€‹äº¤éŸ¿æ¨‚åœ˜çš„ä¸­å¿ƒæŒ‡æ®å®¶ï¼ŒæŒ‡æ®è‘—æ¨‚åœ˜çš„æ¼”å¥ã€‚</description></item><item><title>&lt;Discord å¦‚ä½• Full-text Index æ•¸åå„„çš„è¨Šæ¯></title><link>https://tachunwu.github.io/posts/discord-fulltext/</link><pubDate>Mon, 30 Jan 2023 18:02:17 +0800</pubDate><guid>https://tachunwu.github.io/posts/discord-fulltext/</guid><description>Index å‰è¨€ éœ€æ±‚ è§£æ±ºæ–¹æ¡ˆ Question 1ï¼šæˆ‘è©²ç”¨å¤–éƒ¨çš„ SaaS å»è§£æ±ºé€™å€‹å•é¡Œå—ï¼Ÿ Question 2ï¼šæœ‰ Open-source çš„æ–¹æ¡ˆå¯ä»¥ç”¨å—ï¼Ÿ æˆ‘å€‘è©²â€å…¨é¢â€ç›¸ä¿¡ Elasticsearch å—ï¼Ÿ å…ƒä»¶çš„ç´°ç¯€ é«˜å±¤æ¬¡åˆ†æ Insert å…ƒä»¶ Shard Manage å…ƒä»¶ Indexing &amp;amp; Mapping the Data å¯¦éš›ä¸Š Coding çš„å¯¦ä½œ å¯¦éš›åœ¨ Production çš„éç¨‹ åˆå§‹åŒ–å¯¦é©— ç ”ç©¶çš„ç²¾ç¥ æ›´æ–°çš„ç…©æƒ± The Future Exampleï¼šUnhealthy Cluster (ran out of heap) Exampleï¼šHealthy Cluster çµè«– æ„Ÿæƒ³ å‰è¨€ é€™ç¯‡éƒ¨è½æ ¼æœƒç¿»è­¯å’Œåƒè€ƒ &amp;lt;How discord indexes billions of messages&amp;gt; é€™ç¯‡æ–‡ç« çš„å…§å®¹åšæ•´ç†å’Œç¿»è­¯ã€‚
é€™ç¯‡ç®—æ˜¯ &amp;lt;Discord å¦‚ä½•è™•ç†æ•¸åå„„çš„è¨Šæ¯&amp;gt; çš„ä¸‹é›†ï¼Œç•¶æœ‰äº†æœ€æ ¸å¿ƒçš„è¨Šæ¯è®€å¯«ç³»çµ±ã€‚ä¸‹ä¸€å€‹å¾ˆé‡è¦çš„ feature å°±æ˜¯ Full-text Searchã€‚
èˆ‰ä¾‹ä¾†èªªï¼ŒUser çªç„¶æƒ³åˆ°ä»¥å‰å’ŒåŒä¼´è¨è«–çš„æŸå€‹è­°é¡Œï¼Œä¸å¯èƒ½æ…¢æ…¢æ»‘å»æ‰¾ï¼Œè€Œæ˜¯è¦ç”¨åƒæ˜¯ Search Engine é€™æ¨£çš„åŠŸèƒ½ï¼Œé€™ç¯‡æ–‡ç« å°±æ˜¯åœ¨ä»‹ç´¹ Discord å¦‚ä½•åšåˆ°é€™ç¨®åŠŸèƒ½ã€‚</description></item><item><title>&lt;Cassandra-based çš„è¨­è¨ˆæ¨¡å‹ï¼šChebotko Diagrams></title><link>https://tachunwu.github.io/posts/cassandra/</link><pubDate>Fri, 27 Jan 2023 16:20:23 +0800</pubDate><guid>https://tachunwu.github.io/posts/cassandra/</guid><description>Index å‰è¨€ å…ˆå‚™çŸ¥è­˜ ç›®æ¨™ Cassandraâ€™s Data Model Keyspace Table Table Exampleï¼šsingle-row partitions Table Exampleï¼šmulti-row partitions Query Model Conceptual Data &amp;amp; Application Workflow Modeling å¯¦éš›æ¡ˆä¾‹ Logical Data Modeling Data Modeling Principles Mapping Rules Chebotko Diagrams Notation Logical Chebotko Diagram Physical Chebotko Diagram æ³¨æ„äº‹é … çµè«– å‰è¨€ é€™ç¯‡æ–‡ç« æœƒç¿»è­¯å’Œæ•´ç†ä¸€ç¯‡è«–æ–‡ &amp;lt;A Big Data Modeling Methodology for Apache Cassandra&amp;gt;ï¼Œé€™ç¯‡è«–æ–‡æ˜¯ç”±ç¶­è­· Apache Cassandra å•†ç”¨ç‰ˆ DataStax çš„å·¥ç¨‹å¸«æ‰€å¯«çš„è«–æ–‡ (ç™¼è¡¨åœ¨ 2015 IEEE BigDataCongress ä¸Š)ã€‚
æˆ‘å€‹äººèªç‚ºéå¸¸é©åˆåšç‚ºå­¸ç¿’ Cassandra é€™ç¨®ç³»çµ±çš„åŸºçŸ³ (å¦‚æœæœ‰ç¶“é©—ä¸€é»çš„è®€è€…æœƒç™¼ç¾ Google BigTable å’Œ AWS çš„ DynamoDB éƒ½å¯ä»¥é©ç”¨æœ¬è«–æ–‡çš„æ¦‚å¿µ)ã€‚</description></item><item><title>&lt;Discord å¦‚ä½•è™•ç†ä¸€å¤©æ•¸å„„çš„è¨Šæ¯></title><link>https://tachunwu.github.io/posts/discord-cassandra/</link><pubDate>Sat, 21 Jan 2023 16:06:39 +0800</pubDate><guid>https://tachunwu.github.io/posts/discord-cassandra/</guid><description>Index å‰è¨€ ç›®æ¨™ æ•…äº‹é–‹å§‹ é‡åˆ°ç“¶é ¸ é¸æ–°çš„å€™é¸äºº å•é¡Œ éœ€æ±‚ Data Modeling Bucket Dark Launch Trade-off Performance å‡ºå¤§äº‹æ‹‰ The Future Near Term Long Term çµèª å¿ƒå¾— å‰è¨€ é€™ç¯‡éƒ¨è½æ ¼æœƒç¿»è­¯å’Œåƒè€ƒ &amp;lt;How Discord Stores Billions of Messages&amp;gt; é€™ç¯‡éƒ¨è½æ ¼çš„å…§å®¹åšæ•´ç†å’Œç¿»è­¯ã€‚
æˆ‘å€‹äººä¸€å‘å–œæ­¡ç ”ç©¶è‡ªå·±å–œæ­¡ç”¨çš„è»Ÿé«”ï¼Œèº«ç‚ºæ¯å¤©éƒ½æœƒä¸Š DC å’Œæœ‹å‹ç¤¾äº¤çš„æˆ‘ä¾†èªªï¼Œç ”ç©¶ä¸€ä¸‹é€™éº¼å²å®³çš„æœå‹™ï¼Œä¹Ÿæ˜¯æˆ‘çš„èˆˆè¶£ä¹‹æ‰€åœ¨ã€‚
ç›®æ¨™ é€™ç¯‡æ–‡ç« çš„ç›®æ¨™ä¹Ÿå¾ˆæ˜ç¢ºï¼ŒDiscord æ¯å¤©æœƒéœ€è¦è™•ç†ä¸€å„„çš„è¨Šæ¯ (100 million/day)ï¼Œé€™ç¯‡æ–‡ç« æœƒè§£é‡‹ä»–å€‘æ€éº¼åšåˆ°çš„ã€‚
æ•…äº‹é–‹å§‹ ç¾…é¦¬ä¸æ˜¯ä¸€å¤©é€ æˆçš„ï¼ŒDiscord åœ¨ 2015 å¹´åªèŠ±äº†å…©å€‹æœˆå°±å»ºç«‹å¥½äº†ç¬¬ä¸€ç‰ˆã€‚ç•¶æ™‚ä»–å€‘åªç”¨äº†ä¸€å° MongoDB ç•¶ä½œä¸»è¦ Databaseï¼Œä½œè€… (Discord CTO) ä¹Ÿç›´æ¥è¬›æ˜äº†ï¼Œç•¶æ™‚é¸ç”¨ MongoDB ç´”ç²¹åªæ˜¯ç‚ºäº†å¿«é€Ÿç–Šä»£ç”¢å“ï¼Œä»¥æœ€å¿«çš„é€Ÿåº¦å»æ‰“é€ å¸‚å ´æƒ³è¦çš„æ±è¥¿ã€‚å¾ä¸€é–‹å§‹å°±ä¸æ‰“ç®—ç”¨ Sharding çš„ MongoDBï¼Œä¸åƒ…è¤‡é›œé›£ç”¨è€Œä¸”é‚„ä¸ç©©å®šã€‚æ‰€ä»¥ä¸€é–‹å§‹ä½¿è¨­è¨ˆä¸Šå°±çµ¦å‡ºå¾ˆå¤§çš„ç§»æ¤ç‰¹æ€§ã€‚(MongoDB QQ)
åœ¨æ­¤ä¹‹ä¸Šï¼Œä½œè€…æå‡º Discord çš„æ ¸å¿ƒæ–‡åŒ–â€¦
Build quickly to prove out a product feature, but always with a path to a more robust solution</description></item><item><title>&lt;Life beyond Distributed Transactions: an Apostateâ€™s Opinion> ç¢©è«–ç­†è¨˜</title><link>https://tachunwu.github.io/posts/ms-tcc/</link><pubDate>Wed, 28 Dec 2022 19:12:03 +0800</pubDate><guid>https://tachunwu.github.io/posts/ms-tcc/</guid><description>Index Abstract å‡è¨­ Layers of the Appilication &amp;amp; Scale-aware Transactional Scopes ç”¨è©å®šç¾© Entities Atmoic Transactions Messages Activities Distributed Transaction Remembering Messages as State Tentative/Cancel/Confirm å€‹äººæ€è€ƒ Abstract æ¢è¨ Scale Appilication çš„èªè¨€å­¸
å‡è¨­ Layers of the Appilication &amp;amp; Scale-aware ä¸Šå±¤ä¸ç”¨è€ƒæ…® Scale ä¸‹å±¤éœ€è¦å¯¦ä½œ Scale-aware Transactional Scopes æœ¬æ–‡èšç„¦åœ¨è¨è«– Transaction åœ¨ç‰¹å®šé›†åˆå…§çš„ Serializabilityï¼Œæˆ‘å€‘åªè¦æ±‚åœ¨ç‰¹å®šçš„æ©Ÿå™¨å…§éƒ¨ç¶­æŒéš”é›¢æ€§ï¼Œè€Œä¸æ˜¯æ•´å€‹ Data Center å¼·åˆ¶ç¶­æŒä¸€è‡´ã€‚
ç”¨è©å®šç¾© Entities æœ¬æ–‡å®šç¾© Entity å¿…é ˆæ“æœ‰ä¸€å€‹ ID æˆ–æ˜¯ Keyï¼Œè€Œä¸”åœ¨ Entity ä¹‹å…§å¿…é ˆæ“æœ‰å”¯ä¸€çš„ Serializabilityã€‚
Atmoic Transactions Atmoic Transaction ä¸å¯ä»¥æ¶µè“‹å¤šæ•¸çš„ Entityã€‚(é€™é‚Šå’Œ Database çš„å®šç¾©å°±ä¸å¤ªä¸€æ¨£äº†ï¼Œé€™è£¡æ›´åƒæ˜¯æ‡‰ç”¨ç¨‹å¼çš„è§’åº¦)</description></item></channel></rss>